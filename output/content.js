function t(t){if(void 0!==t.port&&null!==t.port||(t.port=""),t.site===location.hostname&&t.port===location.port&&/\/login/gi.test(location.pathname)){let e=document.querySelector('input[name="username"]'),o=document.querySelector('input[name="password"]');t.handleBool&&(e=document.querySelector(t.handleAccount),o=document.querySelector(t.handlePasswd)),e&&o&&(e.value=t.fillAccount,e.dispatchEvent(new Event("input")),o.value=t.fillPasswd,o.dispatchEvent(new Event("input")))}}function e(t,e,o,n,i){let s=document.body.offsetWidth,l=document.body.offsetHeight;t>=s-46&&(e=s-46),t<=0&&(e=6),o>l-46&&(n=l-46),o<=0&&(n=6),i.style.top=n+"px",i.style.left=e+"px"}window.addEventListener("load",(function(){const t=document.body;var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",chrome.runtime.getURL("sdk.js")),t.appendChild(e)})),async function(){try{chrome.runtime.sendMessage({event:"getSiteList",data:null},(async o=>{o&&(null==o?void 0:o.siteList.length)&&function({siteList:o}){var n;let i=location.hostname;for(const s of o){if(s.site!==i)continue;let o=document.createElement("div");if(s.boxBool&&(o.setAttribute("id","ontextflag"),o.setAttribute("style","width: 100vw;height: 100vh;border: 6px solid transparent;box-sizing: border-box;position: fixed;top: 0;left: 0;z-index: 999999999;pointer-events: none;"),o.style.borderColor=s.boxColor,null==(n=document.body)||n.appendChild(o)),s.badgeBool){let t=document.createElement("div");if(t.setAttribute("id","ontextflaghander"),t.setAttribute("draggable","true"),t.setAttribute("style"," width: 40px;height: 40px;background-color: red;border-radius: 50%;position: absolute;top: 30px;right: 30px;line-height: 40px;text-align: center;color: white;cursor: move;pointer-events: all;user-select: none;font-size: 14px;"),o.appendChild(t),!t)return;t.innerText=s.badgeText,t.style.backgroundColor=s.badgeColor,chrome.runtime.sendMessage({event:"getFlagHostListPosition",data:null},(async t=>{if(Object.values(t).length&&(null==t?void 0:t.flagHostListPosition)){let[o,n]=t.flagHostListPosition,i=o,s=n;const l=document.getElementById("ontextflaghander");l&&o&&n&&e(o,i,n,s,l)}})),t.ondrag=e=>{const{x:o,y:n}=e;t.style.display="none",t.style.top=n-20+"px",t.style.left=o-20+"px"},t.ondragend=async o=>{const{x:n,y:i}=o;let s=n,l=i;t.style.display="unset",e(n,s,i,l,t),chrome.runtime.sendMessage({event:"setFlagHostListPosition",data:{flagHostListPosition:[s,l]}},(async t=>{}))}}s.fillBool&&t(s)}}({siteList:o.siteList})})),await async function(){await chrome.runtime.onMessage.addListener((function({event:t,data:e},o,n){if("easterEgg"===t)console.log("💐💐💐💐💐💐"),alert("💐💐💐💐💐💐");return!0}))}()}catch(o){console.info("插件报错，不用管",o)}}(),chrome.runtime.onMessage.addListener((function(t,e,o){"performAction"===t.action&&[...document.querySelectorAll('span[data-btm="d63429"]')].forEach((t=>{t.click()})),"ignoreLittleStock"===t.action&&function(){let t=document.querySelectorAll("#fxzzGoodsListBox .ant-spin-container >.ant-row > div");for(let e of t)+e.querySelector(".antd-pro-components-goods-list-components-item-index-num").textContent<300&&e.querySelector(".ant-checkbox-wrapper-checked.antd-pro-components-goods-list-index-checkbox .ant-checkbox-checked .ant-checkbox-input").click()}()}));
